{
  "version": "1.0.0",
  "description": "Simple 3-squad workflow example for SuperCore",
  "metadata": {
    "project": "SuperCore",
    "phase": "Example Workflow",
    "created_by": "Squad Orchestrator Team",
    "created_at": "2025-01-20T00:00:00Z"
  },
  "global_config": {
    "autonomous_mode": true,
    "max_parallel_tasks": 3,
    "auto_retry_on_failure": true,
    "max_retries": 1,
    "checkpoint_interval_minutes": 10,
    "communication_method": "state_files",
    "timeout_hours": 4
  },
  "squads": [
    {
      "name": "planning-squad",
      "description": "Creates project documentation and plans",
      "agent": "architect-planner",
      "priority": 1,
      "thinking_level": "think hard",
      "autonomous_permissions": {
        "can_create_files": true,
        "can_edit_files": false,
        "can_create_directories": true,
        "can_run_commands": false,
        "can_install_packages": false,
        "can_commit_changes": false,
        "allowed_paths": [
          "/docs/examples/"
        ]
      },
      "tasks": [
        {
          "id": "PLAN-001",
          "title": "Create example project plan",
          "description": "Generate a simple project plan document",
          "type": "documentation",
          "priority": "high",
          "estimated_hours": 1,
          "prompt": "Create a simple project plan for a TODO application:\n\nRequirements:\n- User authentication\n- CRUD operations for tasks\n- Task categories and tags\n- Due dates and reminders\n- Search functionality\n\nCreate a document at /docs/examples/todo-app-plan.md with:\n1. Feature list\n2. User stories (5-7 stories)\n3. Basic architecture overview\n4. Technology stack recommendation\n5. Development phases\n\nKeep it simple and practical.",
          "success_criteria": [
            "Plan document created",
            "All 5 sections included",
            "At least 5 user stories defined"
          ],
          "outputs": [
            "/docs/examples/todo-app-plan.md"
          ]
        }
      ],
      "completion_criteria": {
        "all_tasks_completed": true,
        "all_outputs_created": true
      },
      "communication": {
        "state_file": "planning-squad-state.json",
        "publishes": ["plan_ready"],
        "subscribes": []
      }
    },
    {
      "name": "documentation-squad",
      "description": "Creates API documentation based on plan",
      "agent": "architect-planner",
      "priority": 2,
      "thinking_level": "think",
      "autonomous_permissions": {
        "can_create_files": true,
        "can_edit_files": false,
        "can_create_directories": true,
        "can_run_commands": false,
        "can_install_packages": false,
        "can_commit_changes": false,
        "allowed_paths": [
          "/docs/examples/"
        ]
      },
      "tasks": [
        {
          "id": "DOC-001",
          "title": "Create API documentation",
          "description": "Generate OpenAPI spec based on project plan",
          "type": "api_documentation",
          "priority": "high",
          "estimated_hours": 1,
          "depends_on": ["PLAN-001"],
          "waits_for_events": ["plan_ready"],
          "prompt": "Based on the TODO app plan at /docs/examples/todo-app-plan.md:\n\nCreate an OpenAPI 3.0 specification at /docs/examples/todo-api-spec.yaml\n\nInclude endpoints for:\n- User authentication (POST /auth/login, POST /auth/register)\n- Tasks (GET/POST/PUT/DELETE /tasks, GET /tasks/{id})\n- Categories (GET/POST /categories)\n- Search (GET /tasks/search)\n\nFor each endpoint include:\n- Request/response schemas\n- Status codes\n- Authentication requirements\n- Example requests/responses\n\nKeep it simple and well-documented.",
          "success_criteria": [
            "OpenAPI spec created",
            "All CRUD endpoints defined",
            "Schemas included",
            "Valid YAML syntax"
          ],
          "outputs": [
            "/docs/examples/todo-api-spec.yaml"
          ]
        }
      ],
      "completion_criteria": {
        "all_tasks_completed": true,
        "all_outputs_created": true
      },
      "communication": {
        "state_file": "documentation-squad-state.json",
        "publishes": ["documentation_ready"],
        "subscribes": ["plan_ready"]
      }
    },
    {
      "name": "summary-squad",
      "description": "Creates final summary of all work",
      "agent": "architect-planner",
      "priority": 3,
      "thinking_level": "think",
      "autonomous_permissions": {
        "can_create_files": true,
        "can_edit_files": false,
        "can_create_directories": true,
        "can_run_commands": false,
        "can_install_packages": false,
        "can_commit_changes": false,
        "allowed_paths": [
          "/docs/examples/"
        ]
      },
      "tasks": [
        {
          "id": "SUM-001",
          "title": "Create project summary",
          "description": "Generate comprehensive summary of all deliverables",
          "type": "documentation",
          "priority": "medium",
          "estimated_hours": 0.5,
          "depends_on": ["PLAN-001", "DOC-001"],
          "waits_for_events": ["plan_ready", "documentation_ready"],
          "prompt": "Create a comprehensive summary at /docs/examples/project-summary.md:\n\nReview:\n1. /docs/examples/todo-app-plan.md\n2. /docs/examples/todo-api-spec.yaml\n\nGenerate summary with:\n- Executive Summary\n- Deliverables Overview\n- Key Features Planned\n- API Endpoints Summary\n- Next Steps for Implementation\n- Estimated Timeline\n\nMake it executive-friendly and concise.",
          "success_criteria": [
            "Summary document created",
            "References both previous documents",
            "All sections included",
            "Professional formatting"
          ],
          "outputs": [
            "/docs/examples/project-summary.md"
          ]
        }
      ],
      "completion_criteria": {
        "all_tasks_completed": true,
        "all_outputs_created": true
      },
      "communication": {
        "state_file": "summary-squad-state.json",
        "publishes": ["summary_complete"],
        "subscribes": ["plan_ready", "documentation_ready"]
      }
    }
  ],
  "workflows": {
    "on_task_complete": {
      "update_state_file": true,
      "notify_dependent_squads": true,
      "create_checkpoint": true
    },
    "on_task_failure": {
      "log_error": true,
      "create_incident_report": true,
      "retry_if_transient": true
    },
    "on_squad_complete": {
      "publish_events": true,
      "create_summary_report": true
    }
  },
  "notifications": {
    "enabled": false
  },
  "checkpointing": {
    "enabled": true,
    "interval_minutes": 10,
    "checkpoint_location": "./state/checkpoints/",
    "max_checkpoints": 5
  }
}
